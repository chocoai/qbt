package com.qbt.web.support;

import java.util.List;

import com.qbt.persistent.entity.ActivityTicketPackage;
import com.qbt.web.pojo.ticket.UserActivityPackageVo;
import com.qbt.web.pojo.ticket.UserPackageQrcodeVo;
import com.qbt.web.pojo.ticket.UserPackageTicketVo;


public interface MyTicketPackageSupport {

	/**
	  * @Title: listNotActive
	  * @Description: Search (active_status=0 and package_type in (0,1,2))
	  * @author: andy.li
	  * @param userId
	  * @return List<UserActivityPackageVo>
	  */
	public List<UserActivityPackageVo> findlistNotActive(int userId);
	
	/**
	  * @Title: listUsed
	  * @Description: Search (active_status=1 or package_type=3 or(active_status=1 and today>expiration_time))
	  * @author: andy.li
	  * @param userId
	  * @return List<UserActivityPackageVo>
	 */
	public List<UserActivityPackageVo> findlistUsed(int userId);
	
	/**
	 * @Title: listAvailableTicket
	 * @author: andy.li
	 * @param packageId
	 * @return List<UserPackageTicketVo>
	 */
	public List<UserPackageTicketVo> findlistAvailableTicket(int userId);
	
	/**
	 * @Title: listDisableTicket
	 * @author: andy.li
	 * @param packageId
	 * @return List<UserPackageTicketVo>
	 */
	public List<UserPackageTicketVo> findlistDisableTicket(int userId);
	
	/**
	 * @Title: activate
	 * @Description:update active_status  = 1
	 * @author: andy.li
	 * @param packageId
	 * @return
	 */
	public String activate(int packageId);
	
	/**
	 * @Title: cancel
	 * @Description:update package_type = 0
	 * @author: andy.li
	 * @param packageId
	 * @return
	 */
	public String cancel(int packageId);
	
	/**
	 * @Title: recieve
	 * @Description:
	 *  update package_type = 2
		copy a new package to current user
	   @author: andy.li
	 * @param userId
	 * @param packageId
	 * @param qrCode
	 * @return
	 */
	public String recieve(int userId,int packageId,String qrCode);
	
	/**
	 * @Title: qrcode
	 * @Description: post :package_id (update qrcode to user_activity_package, update package_type = 1)
	 * @author: andy.li
	 * @param packageId
	 * @return UserPackageTicketVo
	 */
	public UserPackageQrcodeVo qrcode(int packageId);
	
	/**
	 * @Title: useTicket
	 * @Description update table user_package_ticket,set used_quantity+1
	 * @author: andy.li
	 * @param ticketId
	 * @return
	 */
	public String useTicket(int ticketId);
	
	/**
	 * @Title: findPackageById
	 * @Description find details Package info by packageId
	 * @author: andy.li
	 * @param packageId
	 * @return ActivityTicketPackage
	 */
	public ActivityTicketPackage findPackageById(int packageId);
}
